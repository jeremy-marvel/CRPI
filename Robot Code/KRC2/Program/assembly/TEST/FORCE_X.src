&ACCESS RVP
&REL 74
&PARAM TEMPLATE = C:\KRC\Roboter\Template\vorgabe
&PARAM EDITMASK = *
DEF FORCE_X( )
INT X

DECL BOOL TEMP
DECL BOOL HEMP
DECL BOOL SEMP
DECL FRAME SETPNT 
DECL FRAME PT, PT2
DECL CHAR X1
DECL INT NUM

X1="Y"

;FOLD INI
  ;FOLD BASISTECH INI
    GLOBAL INTERRUPT DECL 3 WHEN $STOPMESS==TRUE DO IR_STOPM ( )
    INTERRUPT ON 3 
    BAS (#INITMOV,0 )
  ;ENDFOLD (BASISTECH INI)
  ;FOLD USER INI
    ;Make your modifications here

  ;ENDFOLD (USER INI)
;ENDFOLD (INI)

$STIFFNESS.STRATEGY=10
$STIFFNESS.COMMIT=TRUE
$OV_PRO=75
$ORI_TYPE=#CONSTANT
$TOOL=TOOL_DATA[5]

FOR X=1 TO 6
$ACC_AXIS[X]=70
$VEL_AXIS[X]=70
ENDFOR


;FOLD PTP PT3 Vel=100 % PDAT3 Tool[5]:Pneumatic_gripper_probe Base[0];%{PE}%R 5.6.11,%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:PT3, 3:, 5:100, 7:PDAT3
$BWDSTART=FALSE
PDAT_ACT=PPDAT3
FDAT_ACT=FPT3
BAS(#PTP_PARAMS,100)
PTP XPT3 
;ENDFOLD

PT2= GETPOINT(X1,1)
PTP PT2

LIN_REL{Z -30}

TEMP=TRIGX()
HEMP=SOFTINY()
SEMP=FORCEY()

LIN_REL {Y 5}

HALT

$STIFFNESS.STRATEGY=10
$STIFFNESS.COMMIT=TRUE
$OV_PRO=50

;FOLD PTP HOME  Vel= 100 % DEFAULT;%{PE}%MKUKATPBASIS,%CMOVE,%VPTP,%P 1:PTP, 2:HOME, 3:, 5:100, 7:DEFAULT
$BWDSTART = FALSE
PDAT_ACT=PDEFAULT
FDAT_ACT=FHOME
BAS (#PTP_PARAMS,100 )
$H_POS=XHOME
PTP  XHOME
;ENDFOLD


END